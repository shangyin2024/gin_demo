# ğŸš€ éƒ¨ç½²æ£€æŸ¥æ¸…å•

**ç›®æ ‡ç¯å¢ƒ**: [ ] æµ‹è¯•ç¯å¢ƒ | [ ] é¢„å‘å¸ƒç¯å¢ƒ | [ ] ç”Ÿäº§ç¯å¢ƒ  
**éƒ¨ç½²æ—¥æœŸ**: ___________  
**éƒ¨ç½²äºº**: ___________  
**ç‰ˆæœ¬**: v_______

---

## ğŸ“‹ éƒ¨ç½²å‰æ£€æŸ¥

### 1. ä»£ç è´¨é‡ âœ…

- [ ] æ‰€æœ‰æµ‹è¯•é€šè¿‡ (`make test`)
- [ ] æµ‹è¯•è¦†ç›–ç‡ â‰¥ 60% (`make test-cover`)
- [ ] ä»£ç æ£€æŸ¥é€šè¿‡ (`make lint`)
- [ ] æ ¼å¼åŒ–æ£€æŸ¥é€šè¿‡ (`make fmt`)
- [ ] å®‰å…¨æ‰«æé€šè¿‡ (`govulncheck ./...`)
- [ ] æ— å·²çŸ¥ TODO/FIXME/HACK æ ‡è®°
- [ ] ä»£ç å·²ç»è¿‡ Code Review

### 2. é…ç½®ç®¡ç† âš™ï¸

- [ ] ç¯å¢ƒå˜é‡å·²é…ç½®
  - [ ] `APP_ENV` = prod
  - [ ] `JWT_SECRET` = [è‡ªå®šä¹‰å¯†é’¥]
  - [ ] `DATABASE_PASSWORD` = [ç”Ÿäº§å¯†ç ]
  - [ ] `REDIS_PASSWORD` = [ç”Ÿäº§å¯†ç ]
- [ ] `config.prod.yaml` å·²æ£€æŸ¥
  - [ ] æ•°æ®åº“åœ°å€æ­£ç¡®
  - [ ] Redis åœ°å€æ­£ç¡®
  - [ ] CORS åŸŸåæ­£ç¡®
  - [ ] TLS è¯ä¹¦è·¯å¾„æ­£ç¡®
- [ ] æ•æ„Ÿä¿¡æ¯å·²ä»é…ç½®æ–‡ä»¶ç§»é™¤
- [ ] é…ç½®æ ¡éªŒé€šè¿‡ï¼ˆå¯åŠ¨æµ‹è¯•ï¼‰

### 3. æ•°æ®åº“å‡†å¤‡ ğŸ’¾

- [ ] æ•°æ®åº“å·²åˆ›å»º
- [ ] æ•°æ®åº“ç”¨æˆ·æƒé™å·²é…ç½®
- [ ] æ•°æ®åº“è¿æ¥æµ‹è¯•é€šè¿‡
- [ ] æ•°æ®åº“è¿ç§»å·²æ‰§è¡Œ (`sql-migrate up`)
- [ ] è¿ç§»çŠ¶æ€å·²éªŒè¯ (`sql-migrate status`)
- [ ] æ•°æ®åº“å¤‡ä»½è®¡åˆ’å·²é…ç½®
- [ ] æ•°æ®åº“ç´¢å¼•å·²ä¼˜åŒ–
- [ ] æ…¢æŸ¥è¯¢æ—¥å¿—å·²å¯ç”¨

### 4. ç¼“å­˜å‡†å¤‡ ğŸ“¦

- [ ] Redis å·²éƒ¨ç½²ï¼ˆå“¨å…µæ¨¡å¼æ¨èï¼‰
- [ ] Redis è¿æ¥æµ‹è¯•é€šè¿‡
- [ ] Redis æŒä¹…åŒ–å·²é…ç½®ï¼ˆAOF æ¨èï¼‰
- [ ] Redis å†…å­˜é™åˆ¶å·²è®¾ç½®
- [ ] Redis é©±é€ç­–ç•¥å·²é…ç½® (`allkeys-lru`)
- [ ] Redis å¯†ç å·²è®¾ç½®

### 5. ä¾èµ–æœåŠ¡ ğŸ”—

- [ ] æ‰€æœ‰ä¾èµ–æœåŠ¡å·²å¯åŠ¨
- [ ] æœåŠ¡é—´ç½‘ç»œè¿é€šæ€§å·²æµ‹è¯•
- [ ] æœåŠ¡å¥åº·æ£€æŸ¥é€šè¿‡
- [ ] è´Ÿè½½å‡è¡¡å™¨å·²é…ç½®
- [ ] DNS è§£ææ­£ç¡®

### 6. å®‰å…¨æ£€æŸ¥ ğŸ”’

- [ ] JWT Secret å·²æ›´æ¢ï¼ˆä¸ä½¿ç”¨é»˜è®¤å€¼ï¼‰
- [ ] æ•°æ®åº“å¯†ç å¼ºåº¦ç¬¦åˆè¦æ±‚
- [ ] TLS/HTTPS å·²å¯ç”¨ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰
- [ ] å®‰å…¨å¤´å·²å¯ç”¨
- [ ] è·¨åŸŸé…ç½®æ­£ç¡®
- [ ] Rate Limiting å·²é…ç½®
- [ ] é˜²ç«å¢™è§„åˆ™å·²é…ç½®
- [ ] æœ€å°æƒé™åŸåˆ™ï¼ˆæ•°æ®åº“ç”¨æˆ·æƒé™ï¼‰

### 7. ç›‘æ§å‘Šè­¦ ğŸ“Š

- [ ] Prometheus å·²éƒ¨ç½²
- [ ] Grafana ä»ªè¡¨ç›˜å·²å¯¼å…¥
- [ ] å‘Šè­¦è§„åˆ™å·²é…ç½®
  - [ ] P99 å»¶è¿Ÿå‘Šè­¦
  - [ ] é”™è¯¯ç‡å‘Šè­¦
  - [ ] ç¼“å­˜å‘½ä¸­ç‡å‘Šè­¦
  - [ ] æ•°æ®åº“è¿æ¥æ•°å‘Šè­¦
  - [ ] æ…¢æŸ¥è¯¢å‘Šè­¦
- [ ] å‘Šè­¦é€šçŸ¥æ¸ é“å·²é…ç½®ï¼ˆé‚®ä»¶/é’‰é’‰/Slackï¼‰
- [ ] ç›‘æ§æŒ‡æ ‡å¯è®¿é—® (`/metrics`)
- [ ] å¥åº·æ£€æŸ¥å¯è®¿é—® (`/health`)

### 8. æ—¥å¿—ç®¡ç† ğŸ“

- [ ] æ—¥å¿—çº§åˆ«è®¾ç½®ä¸º `info` æˆ–ä»¥ä¸Š
- [ ] æ—¥å¿—è¾“å‡ºè·¯å¾„å·²é…ç½®
- [ ] æ—¥å¿—è½®è½¬å·²é…ç½®
- [ ] æ—¥å¿—èšåˆå·²é…ç½®ï¼ˆELK/Lokiï¼‰
- [ ] æ•æ„Ÿä¿¡æ¯å·²è„±æ•
- [ ] Request ID è¿½è¸ªå·²å¯ç”¨

### 9. æ€§èƒ½ä¼˜åŒ– âš¡

- [ ] æ•°æ®åº“è¿æ¥æ± å·²ä¼˜åŒ–
  - [ ] `max_open_conns`: _______ (å»ºè®®: 25-100)
  - [ ] `max_idle_conns`: _______ (å»ºè®®: 5-10)
- [ ] Redis è¿æ¥æ± å·²ä¼˜åŒ–
  - [ ] `pool_size`: _______ (å»ºè®®: 10-50)
  - [ ] `min_idle_conns`: _______ (å»ºè®®: 5-10)
- [ ] Gzip å‹ç¼©å·²å¯ç”¨
- [ ] ç¼“å­˜é¢„çƒ­å·²æ‰§è¡Œï¼ˆå¯é€‰ï¼‰
- [ ] é™æ€èµ„æº CDN å·²é…ç½®ï¼ˆå¦‚æœ‰ï¼‰

### 10. å®¹é‡è§„åˆ’ ğŸ“ˆ

- [ ] é¢„æœŸ QPS: _______ 
- [ ] é¢„æœŸç”¨æˆ·é‡: _______
- [ ] é¢„æœŸæ•°æ®é‡: _______
- [ ] æœåŠ¡å™¨èµ„æºå·²åˆ†é…
  - [ ] CPU: _______ æ ¸
  - [ ] å†…å­˜: _______ GB
  - [ ] ç£ç›˜: _______ GB
- [ ] æ‰©å±•è®¡åˆ’å·²åˆ¶å®š

---

## ğŸ“¦ éƒ¨ç½²æ­¥éª¤

### 1. æ„å»ºé•œåƒ ğŸ—ï¸

```bash
# 1.1 æ‹‰å–æœ€æ–°ä»£ç 
git pull origin main

# 1.2 æ£€æŸ¥ç‰ˆæœ¬
git describe --tags

# 1.3 æ„å»ºé•œåƒ
docker build -t gin-demo:v3.0.0 .

# 1.4 æ¨é€é•œåƒ
docker tag gin-demo:v3.0.0 registry.example.com/gin-demo:v3.0.0
docker push registry.example.com/gin-demo:v3.0.0

# 1.5 éªŒè¯é•œåƒ
docker run --rm gin-demo:v3.0.0 --version
```

- [ ] é•œåƒæ„å»ºæˆåŠŸ
- [ ] é•œåƒå·²æ¨é€åˆ°ä»“åº“
- [ ] é•œåƒå¤§å°åˆç† (< 50MB)

### 2. æ•°æ®åº“è¿ç§» ğŸ’¾

```bash
# 2.1 å¤‡ä»½å½“å‰æ•°æ®åº“
pg_dump -h $DB_HOST -U $DB_USER -d gin_demo > backup_$(date +%Y%m%d_%H%M%S).sql

# 2.2 æµ‹è¯•è¿ç§»ï¼ˆåœ¨æµ‹è¯•æ•°æ®åº“ï¼‰
sql-migrate up -env=test

# 2.3 æ‰§è¡Œç”Ÿäº§è¿ç§»
sql-migrate up -env=production

# 2.4 éªŒè¯è¿ç§»
sql-migrate status -env=production
```

- [ ] æ•°æ®åº“å·²å¤‡ä»½
- [ ] æµ‹è¯•è¿ç§»æˆåŠŸ
- [ ] ç”Ÿäº§è¿ç§»æˆåŠŸ
- [ ] è¿ç§»çŠ¶æ€æ­£ç¡®

### 3. éƒ¨ç½²åº”ç”¨ ğŸš€

#### Docker Compose éƒ¨ç½²

```bash
# 3.1 æ›´æ–° docker-compose.yml ä¸­çš„é•œåƒç‰ˆæœ¬
vim docker-compose.yml

# 3.2 æ‹‰å–æ–°é•œåƒ
docker-compose pull

# 3.3 æ»šåŠ¨æ›´æ–°ï¼ˆé›¶åœæœºï¼‰
docker-compose up -d --no-deps --scale app=2 app
sleep 30  # ç­‰å¾…æ–°å®ä¾‹å¯åŠ¨
docker-compose up -d --no-deps --scale app=1 app

# 3.4 æŸ¥çœ‹æ—¥å¿—
docker-compose logs -f app
```

- [ ] æ–°ç‰ˆæœ¬å·²å¯åŠ¨
- [ ] å¥åº·æ£€æŸ¥é€šè¿‡
- [ ] æ—¥å¿—æ— é”™è¯¯
- [ ] æ—§ç‰ˆæœ¬å·²åœæ­¢

#### Kubernetes éƒ¨ç½²

```bash
# 3.1 åº”ç”¨é…ç½®
kubectl apply -f k8s/configmap.yaml
kubectl apply -f k8s/secret.yaml

# 3.2 æ»šåŠ¨æ›´æ–°
kubectl set image deployment/gin-demo gin-demo=gin-demo:v3.0.0

# 3.3 æŸ¥çœ‹éƒ¨ç½²çŠ¶æ€
kubectl rollout status deployment/gin-demo

# 3.4 éªŒè¯ Pod
kubectl get pods -l app=gin-demo
kubectl logs -f deployment/gin-demo
```

- [ ] ConfigMap/Secret å·²æ›´æ–°
- [ ] Deployment æ»šåŠ¨æ›´æ–°æˆåŠŸ
- [ ] æ‰€æœ‰ Pod è¿è¡Œæ­£å¸¸
- [ ] å¥åº·æ£€æŸ¥é€šè¿‡

### 4. éªŒè¯éƒ¨ç½² âœ…

#### åŸºç¡€éªŒè¯

```bash
# 4.1 å¥åº·æ£€æŸ¥
curl https://api.example.com/health
# é¢„æœŸ: {"status":"ok", ...}

# 4.2 å°±ç»ªæ£€æŸ¥
curl https://api.example.com/health/ready
# é¢„æœŸ: {"status":"ready"}

# 4.3 å­˜æ´»æ£€æŸ¥
curl https://api.example.com/health/live
# é¢„æœŸ: {"status":"alive"}

# 4.4 ç‰ˆæœ¬æ£€æŸ¥ï¼ˆå¦‚æœæœ‰ç‰ˆæœ¬ç«¯ç‚¹ï¼‰
curl https://api.example.com/version
```

- [ ] å¥åº·æ£€æŸ¥é€šè¿‡
- [ ] å°±ç»ªæ£€æŸ¥é€šè¿‡
- [ ] å­˜æ´»æ£€æŸ¥é€šè¿‡
- [ ] ç‰ˆæœ¬å·æ­£ç¡®

#### åŠŸèƒ½éªŒè¯

```bash
# 4.5 æµ‹è¯•æ³¨å†Œ
curl -X POST https://api.example.com/api/v1/users/register \
  -H "Content-Type: application/json" \
  -d '{"username":"test","email":"test@example.com","password":"test123"}'

# 4.6 æµ‹è¯•ç™»å½•
curl -X POST https://api.example.com/api/v1/users/login \
  -H "Content-Type: application/json" \
  -d '{"email":"test@example.com","password":"test123"}'

# 4.7 æµ‹è¯•è®¤è¯æ¥å£
TOKEN="your-token"
curl -H "Authorization: Bearer $TOKEN" \
  https://api.example.com/api/v1/users/me
```

- [ ] æ³¨å†ŒåŠŸèƒ½æ­£å¸¸
- [ ] ç™»å½•åŠŸèƒ½æ­£å¸¸
- [ ] Token éªŒè¯æ­£å¸¸
- [ ] æ ¸å¿ƒæ¥å£æ­£å¸¸

#### æ€§èƒ½éªŒè¯

```bash
# 4.8 å“åº”æ—¶é—´æ£€æŸ¥
time curl https://api.example.com/api/v1/users/1

# 4.9 å¹¶å‘æµ‹è¯•ï¼ˆè½»é‡çº§ï¼‰
ab -n 100 -c 10 https://api.example.com/health
```

- [ ] å“åº”æ—¶é—´ < 200ms
- [ ] å¹¶å‘æµ‹è¯•é€šè¿‡
- [ ] æ— é”™è¯¯å“åº”

### 5. ç›‘æ§éªŒè¯ ğŸ“Š

```bash
# 5.1 æ£€æŸ¥ Prometheus æŒ‡æ ‡
curl https://api.example.com/metrics | grep user_registrations

# 5.2 æ£€æŸ¥ Grafana ä»ªè¡¨ç›˜
# è®¿é—®: https://grafana.example.com

# 5.3 éªŒè¯å‘Šè­¦è§„åˆ™
# è®¿é—®: https://prometheus.example.com/alerts
```

- [ ] Prometheus å¯æŠ“å–æŒ‡æ ‡
- [ ] Grafana æ˜¾ç¤ºæ•°æ®
- [ ] å‘Šè­¦è§„åˆ™å·²åŠ è½½
- [ ] æµ‹è¯•å‘Šè­¦é€šçŸ¥

---

## ğŸ”¥ éƒ¨ç½²åç›‘æ§

### å‰ 30 åˆ†é’Ÿï¼ˆå…³é”®æœŸï¼‰

- [ ] æ¯ 5 åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡æ—¥å¿—
- [ ] ç›‘æ§é”™è¯¯ç‡ (åº” < 0.1%)
- [ ] ç›‘æ§å“åº”æ—¶é—´ (P99 < 500ms)
- [ ] ç›‘æ§æ•°æ®åº“è¿æ¥æ•°
- [ ] ç›‘æ§ Redis è¿æ¥æ•°
- [ ] æ£€æŸ¥å‘Šè­¦æ˜¯å¦è§¦å‘

### å‰ 2 å°æ—¶

- [ ] æ¯ 15 åˆ†é’Ÿæ£€æŸ¥ä¸€æ¬¡
- [ ] è§‚å¯Ÿä¸šåŠ¡æŒ‡æ ‡è¶‹åŠ¿
- [ ] å¯¹æ¯”å‘å¸ƒå‰åæŒ‡æ ‡
- [ ] æ”¶é›†ç”¨æˆ·åé¦ˆ

### å‰ 24 å°æ—¶

- [ ] æ¯å°æ—¶æ£€æŸ¥ä¸€æ¬¡
- [ ] å®Œæ•´çš„ä¸šåŠ¡æµç¨‹æµ‹è¯•
- [ ] æ€§èƒ½åŸºçº¿å¯¹æ¯”
- [ ] é”™è¯¯æ—¥å¿—åˆ†æ

---

## ğŸ”„ å›æ»šè®¡åˆ’

### å›æ»šè§¦å‘æ¡ä»¶

ä»¥ä¸‹ä»»ä¸€æƒ…å†µå‡ºç°æ—¶ï¼Œç«‹å³å›æ»šï¼š

- [ ] é”™è¯¯ç‡ > 1%
- [ ] P99 å»¶è¿Ÿ > 2s
- [ ] æ•°æ®åº“è¿æ¥æ± è€—å°½
- [ ] æ ¸å¿ƒåŠŸèƒ½ä¸å¯ç”¨
- [ ] å‡ºç°ä¸¥é‡å®‰å…¨é—®é¢˜

### å›æ»šæ­¥éª¤

#### Docker Compose

```bash
# 1. å›æ»šåˆ°ä¸Šä¸€ç‰ˆæœ¬
docker-compose down
docker-compose up -d app:v2.2.0

# 2. éªŒè¯
curl https://api.example.com/health

# 3. é€šçŸ¥å›¢é˜Ÿ
```

#### Kubernetes

```bash
# 1. æŸ¥çœ‹éƒ¨ç½²å†å²
kubectl rollout history deployment/gin-demo

# 2. å›æ»šåˆ°ä¸Šä¸€ç‰ˆæœ¬
kubectl rollout undo deployment/gin-demo

# æˆ–å›æ»šåˆ°æŒ‡å®šç‰ˆæœ¬
kubectl rollout undo deployment/gin-demo --to-revision=3

# 3. éªŒè¯å›æ»š
kubectl rollout status deployment/gin-demo
```

- [ ] å›æ»šå‘½ä»¤å·²æ‰§è¡Œ
- [ ] æœåŠ¡å·²æ¢å¤æ­£å¸¸
- [ ] å¥åº·æ£€æŸ¥é€šè¿‡
- [ ] å›¢é˜Ÿå·²é€šçŸ¥

---

## ğŸ“ éƒ¨ç½²è®°å½•

### éƒ¨ç½²ä¿¡æ¯

| é¡¹ç›® | å†…å®¹ |
|------|------|
| éƒ¨ç½²æ—¶é—´ | _____ |
| éƒ¨ç½²ç‰ˆæœ¬ | v_____ |
| éƒ¨ç½²äºº | _____ |
| Review äºº | _____ |
| Git Commit | _____ |
| é•œåƒ Tag | _____ |

### å˜æ›´å†…å®¹

```
1. 
2. 
3. 
```

### å½±å“èŒƒå›´

- [ ] å‰ç«¯ Web
- [ ] ç§»åŠ¨ App
- [ ] ç®¡ç†åå°
- [ ] ç¬¬ä¸‰æ–¹é›†æˆ
- [ ] å…¶ä»–: _______

### å›æ»šé¢„æ¡ˆ

- å›æ»šå‘½ä»¤: _______
- å›æ»šè€—æ—¶: _______ åˆ†é’Ÿ
- æ•°æ®æ¢å¤: [ ] éœ€è¦ | [ ] ä¸éœ€è¦

---

## âœ… éƒ¨ç½²åéªŒè¯

### ç«‹å³éªŒè¯ï¼ˆéƒ¨ç½²å 5 åˆ†é’Ÿï¼‰

- [ ] æœåŠ¡å¯åŠ¨æˆåŠŸ
- [ ] å¥åº·æ£€æŸ¥é€šè¿‡
- [ ] æ—¥å¿—æ— é”™è¯¯
- [ ] æ ¸å¿ƒæ¥å£å¯ç”¨
- [ ] æ•°æ®åº“è¿æ¥æ­£å¸¸
- [ ] Redis è¿æ¥æ­£å¸¸

### çŸ­æœŸéªŒè¯ï¼ˆéƒ¨ç½²å 1 å°æ—¶ï¼‰

- [ ] é”™è¯¯ç‡ < 0.1%
- [ ] P99 å»¶è¿Ÿ < 500ms
- [ ] ä¸šåŠ¡æŒ‡æ ‡æ­£å¸¸
- [ ] æ— å‘Šè­¦è§¦å‘
- [ ] ç”¨æˆ·åé¦ˆæ­£å¸¸

### ä¸­æœŸéªŒè¯ï¼ˆéƒ¨ç½²å 24 å°æ—¶ï¼‰

- [ ] æœåŠ¡ç¨³å®šè¿è¡Œ
- [ ] æ€§èƒ½ç¬¦åˆé¢„æœŸ
- [ ] æ— æ•°æ®å¼‚å¸¸
- [ ] ç›‘æ§æŒ‡æ ‡å¥åº·
- [ ] æ— å®¢æˆ·æŠ•è¯‰

---

## ğŸ› é—®é¢˜è®°å½•

### éƒ¨ç½²è¿‡ç¨‹ä¸­çš„é—®é¢˜

| æ—¶é—´ | é—®é¢˜æè¿° | è§£å†³æ–¹æ¡ˆ | çŠ¶æ€ |
|------|----------|----------|------|
|      |          |          |      |
|      |          |          |      |

### éƒ¨ç½²åå‘ç°çš„é—®é¢˜

| æ—¶é—´ | é—®é¢˜æè¿° | å½±å“ | è§£å†³æ–¹æ¡ˆ | çŠ¶æ€ |
|------|----------|------|----------|------|
|      |          |      |          |      |
|      |          |      |          |      |

---

## ğŸ“ è”ç³»ä¿¡æ¯

### ç´§æ€¥è”ç³»äºº

| è§’è‰² | å§“å | ç”µè¯ | é‚®ç®± |
|------|------|------|------|
| é¡¹ç›®è´Ÿè´£äºº |  |  |  |
| æ¶æ„å¸ˆ |  |  |  |
| DBA |  |  |  |
| è¿ç»´ |  |  |  |
| å€¼ç­äººå‘˜ |  |  |  |

### ç›¸å…³é“¾æ¥

- ç›‘æ§: https://grafana.example.com
- å‘Šè­¦: https://prometheus.example.com
- æ—¥å¿—: https://kibana.example.com
- ä»£ç : https://github.com/yourorg/gin-demo
- æ–‡æ¡£: https://docs.example.com

---

## âœï¸ ç­¾å­—ç¡®è®¤

| è§’è‰² | å§“å | ç­¾å­— | æ—¥æœŸ |
|------|------|------|------|
| éƒ¨ç½²æ‰§è¡Œ |  |  |  |
| éƒ¨ç½²éªŒè¯ |  |  |  |
| æŠ€æœ¯å®¡æ ¸ |  |  |  |
| ä¸šåŠ¡å®¡æ ¸ |  |  |  |

---

**éƒ¨ç½²çŠ¶æ€**: [ ] æˆåŠŸ | [ ] å¤±è´¥ | [ ] å·²å›æ»š

**å¤‡æ³¨**:
```



```
